matrix:
  dist:
    ubuntu:
    - trusty
    - xenial
    # - bionic
    debian:
    - stretch
    # centos:
    # - 7
  salt:
    - stable
    - stable latest
    - stable 2016.3
    - stable 2017.7
    - develop
    # - git 2018.2
  salt-formulas:
    - stable
    - nightly

target:
  # NOTE, make sure target names don't conflict with DockerMake target names
  saltstack:
    matrix:
      - dist
      - salt
    require:
      - salt
      - wheelhouse
  salt-formulas-wheelhouse:
    matrix:
      - dist
      - salt
      - salt-formulas
    require:
      - salt
      - salt-formulas
      - wheelhouse
#  salt-formulas-reclass:
#    matrix:
#      - dist
#      - salt
#      - salt-formulas
#    require:
#      - salt
#      - salt-formulas
#      - reclass
#      - wheelhouse

dockermake:
  destination: 'images'
  repository:  'docker.io/epcim/salt-formulas'
  # options: '--registry-user epcim'
